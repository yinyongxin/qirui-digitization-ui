import{r as u,i as K,G as L,j as e,M,I as p,g as a,o as Q,F as N,k as U,l as W}from"./index.95bfb409.js";const X=()=>{const r=u.exports.useRef({root:null,isRender:!1,isDestroy:!1}),h=()=>{r.current.root||(r.current.div=document.createElement("div"),document.body.appendChild(r.current.div),r.current.root=K(r.current.div))},b=m=>{var n;h(),(n=r.current.root)==null||n.render(m),r.current.isRender=!0},t=()=>{var m;try{(m=document.body)==null||m.removeChild(r.current.div)}catch{}r.current.isDestroy=!0,r.current.root=null};return u.exports.useEffect(()=>()=>{(!r.current.isDestroy||r.current.isRender)&&t()},[]),{render:b,destroy:t,root:r.current.root}};var f="D:\\project\\components\\qirui-ui-github\\src\\components\\Image\\ImagePreview.tsx";const Y=(r,h)=>{const{classNamePrefix:b}=u.exports.useContext(L),t=`${b}-imagePreview`,{imgAttributes:m,close:n}=r,d={imagePreview:(c=[])=>a([`${t}`,...c]),main:(c=[])=>a([`${t}-main`,...c]),icon:(c=[])=>a([`${t}-icon`,...c]),img:(c=[])=>a([`${t}-img`,...c])};return e("div",{className:d.imagePreview(),children:[e(M,{zIndex:"unset"},void 0,!1,{fileName:f,lineNumber:43,columnNumber:7},void 0),e("div",{className:d.main(),children:e("div",{className:"relative",children:[e(p,{onClick:()=>n(),className:d.icon(),icon:"xmark",style:{color:"var(--design-neutral-color-1)"},size:26},void 0,!1,{fileName:f,lineNumber:46,columnNumber:11},void 0),e("img",{style:{width:"60vw",height:"60vh"},className:d.img(),...m},void 0,!1,{fileName:f,lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:f,lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:f,lineNumber:44,columnNumber:7},void 0)]},void 0,!0,{fileName:f,lineNumber:42,columnNumber:5},void 0)};var s="D:\\project\\components\\qirui-ui-github\\src\\components\\Image\\index.tsx";const ee=(r,h)=>{const{classNamePrefix:b}=u.exports.useContext(L),{render:t,destroy:m}=X(),n=`${b}-image`,[d,c]=u.exports.useState(!1),[x,R]=u.exports.useState("loading"),{imgAttributes:i={},style:q={},width:g="100%",height:$="100%",src:C,objectFit:G="cover",closeRender:w,closeShow:P="never",error:O,loader:y=!0,defaultSrc:S,mask:V=!1,optionsShow:j="never",preview:I,optionsRender:z,onClose:E,...Z}=r,[D,F]=u.exports.useState(C),v={imageComponent:(o=[])=>a([`${n}`,{"cursor-pointer":I},...o]),img:(o=[])=>a([`${n}-img`,i.className||"",...o]),options:(o=[])=>a([`${n}-options`,...o]),close:(o=[])=>a([`${n}-close`,...o]),mask:(o=[])=>a([`${n}-mask`,...o]),error:(o=[])=>a([`${n}-error`,...o]),loading:(o=[])=>a([`${n}-loading`,...o])},_=()=>{if(P==="never")return e(N,{},void 0,!1);const o=w?e(N,{children:w()},void 0,!1):e(p,{style:{color:"var(--design-neutral-color-6)"},icon:"circle-xmark",size:22},void 0,!1,{fileName:s,lineNumber:92,columnNumber:7},void 0),l=J=>{J.stopPropagation(),E&&E()};return P==="hover"?e(N,{children:d&&e("div",{onClick:l,className:v.close(),children:o},void 0,!1,{fileName:s,lineNumber:104,columnNumber:13},void 0)},void 0,!1):e("div",{onClick:l,className:v.close(),children:o},void 0,!1,{fileName:s,lineNumber:116,columnNumber:9},void 0)},k=()=>{t(e(Y,{close:m,imgAttributes:{src:D}},void 0,!1,{fileName:s,lineNumber:127,columnNumber:12},void 0))},B=()=>{if(j==="never")return e(N,{},void 0,!1);const o=z?e("div",{onClick:l=>l.stopPropagation(),className:"absolute-fill",children:z(k)},void 0,!1,{fileName:s,lineNumber:135,columnNumber:7},void 0):e("div",{onClick:l=>l.stopPropagation(),className:v.options(),children:e(p,{onClick:()=>k(),className:"cursor-pointer",type:"solid",icon:"eye",size:20},void 0,!1,{fileName:s,lineNumber:140,columnNumber:9},void 0)},void 0,!1,{fileName:s,lineNumber:139,columnNumber:7},void 0);return j==="hover"?e(N,{children:d&&o},void 0,!1):o},T=()=>{const o=U(g)?g/3:30;if(x==="error")return e("div",{className:v.error(),children:O||e(p,{icon:"circle-exclamation",size:o},void 0,!1,{fileName:s,lineNumber:168,columnNumber:13},void 0)},void 0,!1,{fileName:s,lineNumber:164,columnNumber:9},void 0);if(x==="loading"&&y)return e("div",{className:v.loading(),children:W(y)?e(p,{icon:"image",size:o},void 0,!1,{fileName:s,lineNumber:176,columnNumber:13},void 0):y},void 0,!1,{fileName:s,lineNumber:174,columnNumber:9},void 0)},H={onError:o=>{var l;setTimeout(()=>{S&&F(S)}),R("error"),(l=i==null?void 0:i.onError)==null||l.call(i,o)},onLoad:o=>{var l;R("success"),(l=i==null?void 0:i.onLoad)==null||l.call(i,o)},loading:"lazy",style:{width:g,height:$,objectFit:G,...i==null?void 0:i.style},src:D,className:v.img(),...Q(i,["style","className","onError","onLoad","src"])};return u.exports.useEffect(()=>{F(C)},[C]),e("div",{className:v.imageComponent(),onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},onClick:()=>{I&&k()},style:{width:g,height:$,...q},children:[e("img",{...H},void 0,!1,{fileName:s,lineNumber:231,columnNumber:7},void 0),T(),x==="success"&&e(N,{children:[B(),e(M,{visible:V&&d},void 0,!1,{fileName:s,lineNumber:236,columnNumber:11},void 0)]},void 0,!0),e(_,{},void 0,!1,{fileName:s,lineNumber:239,columnNumber:7},void 0)]},void 0,!0,{fileName:s,lineNumber:214,columnNumber:5},void 0)};export{ee as I};
