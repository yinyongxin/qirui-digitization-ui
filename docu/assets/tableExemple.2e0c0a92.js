import{r as w,G as O,c as J,q as K,g as n,j as a,F as j,l as L,T as g}from"./index.95bfb409.js";import{P as F}from"./index.46952af7.js";import{P as M,S as Q}from"./index.2a186bee.js";var o="D:\\project\\components\\qirui-ui-github\\src\\components\\Table\\index.tsx";const T=y=>{const{classNamePrefix:c}=w.exports.useContext(O),t=`${c}-table`,{className:h,columns:u,data:d,align:v="left",rowKey:p,borders:P,onRow:x,placeholder:R,borderWidth:$=1,style:k,pagination:D,...A}=y,b={top:!0,right:!0,bottom:!0,left:!0,thead:!0,tbody:!0,vertical:!1,...P},[C,S]=w.exports.useState([]),E=J({pagination:{current:1,pageSize:10},search:{}}),[B,q]=w.exports.useState(0),z=async()=>{if(K(d))try{let e=await d(E.pagination,E.search);S(e==null?void 0:e.list),q(e==null?void 0:e.total)}catch{}};w.exports.useEffect(()=>{K(d)||S(d)},[d]);const s={table:n([`${t}`,{[`${t}-border-top`]:b.top,[`${t}-border-right`]:b.right,[`${t}-border-bottom`]:b.bottom,[`${t}-border-left`]:b.left},h||""]),thead:n([`${t}-thead`]),theadTr:n([`${t}-theadTr`]),theadTh:(e=[])=>n([`${t}-theadTh`,{[`${t}-border-bottom`]:b.thead},...e]),tbody:n([`${t}-tbody`]),tbodyTr:n([`${t}-tbodyTr`]),tbodyTd:(e=[])=>n([`${t}-tbodyTd`,...e]),tfoot:n([`${t}-tfoot`]),tfootTr:n([`${t}-tfootTr`]),tfootTd:(e=[])=>n([`${t}-tfootTd`,`${t}-border-top`,...e])},G=()=>a("thead",{className:s.thead,children:a("tr",{className:s.theadTr,children:u.map((e,r)=>{var N,m;const i={...e.width?{width:e.width}:{},borderWidth:$};return a("th",{style:i,className:s.theadTh([`${t}-align-${e.align||v}`,{[`${t}-border-left`]:b.vertical&&r!==0}]),...(N=e==null?void 0:e.onTheadTdCell)==null?void 0:N.call(e,e,r),children:((m=e.headerCellRender)==null?void 0:m.call(e,e,r))||e.title||R||e.placeholder},e.key||e.dataKey,!1,{fileName:o,lineNumber:143,columnNumber:15},void 0)})},void 0,!1,{fileName:o,lineNumber:136,columnNumber:9},void 0)},void 0,!1,{fileName:o,lineNumber:135,columnNumber:7},void 0),H=()=>a("tbody",{className:s.tbody,children:C.map((e,r)=>a("tr",{className:s.tbodyTr,...x==null?void 0:x(e,r),children:u.map((i,N)=>{var m,f;return a("td",{style:{borderWidth:$},className:s.tbodyTd([`${t}-align-${i.align||v}`,{[`${t}-border-bottom`]:b.tbody&&r+1!==C.length,[`${t}-border-left`]:b.vertical&&N!==0}]),...(m=i==null?void 0:i.onTbodyTdCell)==null?void 0:m.call(i,i,e,r),children:((f=i.bodyCellRender)==null?void 0:f.call(i,i,e,{columnIndex:N,dataIndex:r}))||e[i.dataKey]||R||i.placeholder},i.key||N,!1,{fileName:o,lineNumber:179,columnNumber:17},void 0)})},K(p)?p==null?void 0:p(e):p&&e[p]||r,!1,{fileName:o,lineNumber:173,columnNumber:13},void 0))},void 0,!1,{fileName:o,lineNumber:170,columnNumber:7},void 0),V=()=>a("tfoot",{className:s.tfoot,children:a("tr",{className:s.tfootTr,children:u.map((e,r)=>{var N,m;const i=[];for(let f=0;f<C.length;f++){const _=C[f][e.dataKey];i[f]=_}return a("td",{style:{borderWidth:$},className:s.tfootTd([`${t}-align-${e.align||v}`,{[`${t}-border-left`]:b.vertical&&r!==0}]),...(N=e==null?void 0:e.onTfootTdCell)==null?void 0:N.call(e,e,i,r),children:((m=e.footerCellRender)==null?void 0:m.call(e,e,i,r))||e.title||R||e.placeholder},e.key||e.dataKey,!1,{fileName:o,lineNumber:217,columnNumber:15},void 0)})},void 0,!1,{fileName:o,lineNumber:209,columnNumber:9},void 0)},void 0,!1,{fileName:o,lineNumber:208,columnNumber:7},void 0),W=()=>D&&(L(D)?a(F,{},void 0,!1,{fileName:o,lineNumber:244,columnNumber:7},void 0):a(F,{total:B,...D,onChange:(e,r)=>{E.pagination={current:e,pageSize:r},z()}},void 0,!1,{fileName:o,lineNumber:246,columnNumber:7},void 0));return a(j,{children:[a("table",{style:{borderWidth:$,...k},className:s.table,...A,children:[G(),H(),V()]},void 0,!0,{fileName:o,lineNumber:259,columnNumber:7},void 0),W()]},void 0,!0)};var l="D:\\project\\components\\qirui-ui-github\\src\\doc\\exemples\\tableExemple.tsx";const Z=()=>{const y=[{col1:"col1-row1",col2:"col2-row1"},{col1:"col1-row2",col2:"col2-row2"}],c=[{title:"col1",dataKey:"col1",width:"200"},{title:"col2",dataKey:"col2"}];return a(M,{pageHeader:{title:"\u8868\u683C Table",descriptions:"\u7528\u4E8E\u6570\u636E\u6536\u96C6\u5C55\u793A\u3001\u5206\u6790\u6574\u7406\u3001\u64CD\u4F5C\u5904\u7406\u3002",breadcrumb:{list:[{title:"Home"},{title:"TableExemple",path:"/tableExemple"}]}},children:a(Q,{children:[a(g,{type:"tooltip",title:"\u57FA\u672CTable",children:a("div",{children:a(T,{borders:{},columns:[{title:"title1",dataKey:"data1",headerCellRender(t,h){return a(j,{children:[t.title,"headerCellRender",h]},void 0,!0)},bodyCellRender(t,h,{dataIndex:u}){return a("div",{children:[h[t.dataKey],"bodyCellRender",u]},void 0,!0,{fileName:l,lineNumber:79,columnNumber:23},this)}},{title:"title2",dataKey:"data2"},{title:"align-right",dataKey:"data3",align:"center"},{title:"placeholder",dataKey:"data4",align:"right"}],onRow:t=>({onClick:()=>{console.log("onRow",t)}}),placeholder:"---",data:[{data1:"data",data2:"data",data3:"data",data4:"data"},{data1:"data",data2:"data",data3:"data",data4:""}]},void 0,!1,{fileName:l,lineNumber:55,columnNumber:13},void 0)},void 0,!1,{fileName:l,lineNumber:54,columnNumber:11},void 0)},void 0,!1,{fileName:l,lineNumber:53,columnNumber:9},void 0),a(g,{type:"tooltip",title:"onTbodyTdCell onTbodyTdCell",children:a("div",{children:a(T,{columns:c,data:y},void 0,!1,{fileName:l,lineNumber:129,columnNumber:13},void 0)},void 0,!1,{fileName:l,lineNumber:128,columnNumber:11},void 0)},void 0,!1,{fileName:l,lineNumber:127,columnNumber:9},void 0),a(g,{type:"tooltip",title:"\u5217\u5BBD\u5EA6",children:a("div",{style:{width:1e3},children:a(T,{borders:{vertical:!0},borderWidth:4,columns:c,data:y},void 0,!1,{fileName:l,lineNumber:137,columnNumber:13},void 0)},void 0,!1,{fileName:l,lineNumber:136,columnNumber:11},void 0)},void 0,!1,{fileName:l,lineNumber:135,columnNumber:9},void 0),a(g,{type:"tooltip",title:"\u5206\u9875 pagination",children:a("div",{style:{width:1e3},children:a(T,{columns:c,data:y,pagination:{sort:["total","page"],total:200}},void 0,!1,{fileName:l,lineNumber:149,columnNumber:13},void 0)},void 0,!1,{fileName:l,lineNumber:148,columnNumber:11},void 0)},void 0,!1,{fileName:l,lineNumber:147,columnNumber:9},void 0),a(g,{type:"tooltip",title:"\u5206\u9875 pagination",children:a("div",{style:{width:1e3},children:a(T,{columns:c,data:async(t,h)=>{const u=[];for(let d=0;d<t.pageSize;d++){const v=(t.current-1)*t.pageSize+d+1;u.push({col1:`col1-row${d+1}--${v}`,col2:`col2-row${d+1}--${v}`})}return{list:u,total:20}},pagination:{sort:["total","page"],hideOnSinglePage:!0,disabled:!0}},void 0,!1,{fileName:l,lineNumber:161,columnNumber:13},void 0)},void 0,!1,{fileName:l,lineNumber:160,columnNumber:11},void 0)},void 0,!1,{fileName:l,lineNumber:159,columnNumber:9},void 0)]},void 0,!0,{fileName:l,lineNumber:52,columnNumber:7},void 0)},void 0,!1,{fileName:l,lineNumber:34,columnNumber:5},void 0)};export{Z as default};
